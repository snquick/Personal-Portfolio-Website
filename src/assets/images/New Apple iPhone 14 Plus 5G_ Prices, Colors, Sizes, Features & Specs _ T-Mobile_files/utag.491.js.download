//tealium universal tag - utag.491 ut4.0.202207141718, Copyright 2022 Tealium.com Inc. All Rights Reserved.
(function(u,a,b,c){u.map={};u.extend=[function(a,b){try{if(1){(function(c,serv,conds,loc,w){var u=c.util,o=c.object,config={url:"//connect.facebook.net/en_US/fbevents.js",productContent:{currency:"USD",content_type:"product"}},_TRACK={SINGLE:"trackSingle",SINGLE_CUSTOM:"trackSingleCustom"},_self,_loaded=0,_queue=[],logs=[];function conditionHandler(conditions,url){serv.bindConditions(conditions,function(condition){condition.vars.forEach(function(data){track(url,data);});},url);}
function send(data,url){if(!data||!u.exists(data.key)||!u.exists(data.value)||((data.key===_TRACK.SINGLE||data.key===_TRACK.SINGLE_CUSTOM)&&!data.account)||(data.account&&data.key!==_TRACK.SINGLE&&data.key!==_TRACK.SINGLE_CUSTOM)){logs.push({error:{message:"invalid",details:data,url:url||loc.href}});return;}
data.content=o.merge(data.content,data.commonContent?config.commonContent:null,data.content?config.productContent:null);if(data.service&&!data.called){if(o.has(_self.service,data.service)&&u.isFunction(_self.service[data.service])){data.called=true;_self.service[data.service](url,data);}else{logs.push({error:{message:"service not found",details:data,url:url||loc.href}});}}else{var args=[data.key];data.account&&args.push(data.account);args.push(data.value);data.content&&args.push(data.content);w.fbq.apply(w.fbq,args);logs.push({info:{details:data,url:url||loc.href}});}}
function track(url,data){if(w.ta&&ta.donotsell){var n=ta.donotsell;if("function"==typeof n.isBlocked&&n.isBlocked(n.tags().facebook||"facebook"))return;}
if(w.fbq&&_loaded){(data||conditionHandler(conds,url))&&send(data,url);}else if(w.fbq){data&&_queue.push(data);}else{var n;if(w.fbq)return;n=w.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments);};if(!w._fbq)w._fbq=n;n.push=n;n.loaded=!0;n.version="2.0";n.queue=[];data&&_queue.push(data);c.loader.script(config.url,null,function(){_loaded=1;conditionHandler(conds,url);while(_queue.length){send(_queue.shift(),url);}});}}
_self=u.create("fb",ta,{config:config,logs:logs,service:{conditionHandler:conditionHandler},track:track});})(ta.core,ta.traffic.service,(ta.fb&&ta.fb.conditions)||[],ta.core.url.location,window);}}catch(e){utag.DB(e)}}];for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){}};})({});