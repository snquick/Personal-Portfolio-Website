//tealium universal tag - utag.619 ut4.0.202210271719, Copyright 2022 Tealium.com Inc. All Rights Reserved.
(function(u,a,b,c){u.map={};u.extend=[function(a,b){try{if(1){(function(c,mapper,loc,serv,w,conds){const u=c.util,o=c.object,config={baseUrl:"//js.adsrvr.org/up_loader.1.1.0.js",callbackUrl:"https://insight.adsrvr.org/track/up"},logs=[];const conditionHandler=(conditions,url)=>{serv.bindConditions(conditions,(condition)=>{condition.vars.forEach(data=>{track(url,data);});},url);};const track=(url,data)=>{if(w.ta&&ta.donotsell&&"function"==typeof ta.donotsell.isBlocked&&ta.donotsell.isBlocked(ta.donotsell.tags().tradedesk||"tradedesk"))return;if(data){data=o.merge(config,data);if(!data.advId||!data.pixelIds){logs.push({error:{message:"Invalid",details:data,url:url||loc.href}});return;}
c.loader.script(data.baseUrl,null,()=>{(ttd_dom_ready&&ttd_dom_ready(()=>{if(u.isFunction(TTDUniversalPixelApi)){const universalPixelApi=new TTDUniversalPixelApi(),cbData=mapper.mapToData(data.mapData,data.eventDetail);cbData&&universalPixelApi.init(data.advId,data.pixelIds,data.callbackUrl,cbData);logs.push({info:{details:{data:data,callbackData:cbData},url:url||loc.href}});}}),1)||logs.push({error:{message:"Failed to load",details:data,url:url||loc.href}});logs.push({info:{details:{data:data},url:url||loc.href}});});}else{conditionHandler(conds,url);}};u.create("tradedesk",ta,{config:config,logs:logs,service:{conditionHandler:conditionHandler},track:track});})(ta.core,new ta.common.mapper(ta.tradedesk.map&&ta.tradedesk.map.default),ta.core.url.location,ta.traffic.service,window,(ta.tradedesk&&ta.tradedesk.conditions)||[]);}}catch(e){utag.DB(e)}}];for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){}};})({});