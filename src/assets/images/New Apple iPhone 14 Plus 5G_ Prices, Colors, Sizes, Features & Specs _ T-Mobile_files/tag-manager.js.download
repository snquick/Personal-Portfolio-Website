/* Copyright (c) {licenseYear} - T-Mobile - All rights reserved. */
/* {gitLongHash}({gitShortHash})  */
!function(){"use strict";var globals="undefined"==typeof global?self:global;if("function"!=typeof globals.require){var modules={},cache={},aliases={},has={}.hasOwnProperty,expRe=/^\.\.?(\/|$)/,expand=function(root,name){for(var part,results=[],parts=(expRe.test(name)?root+"/"+name:name).split("/"),i=0,length=parts.length;i<length;i++){part=parts[i];".."===part?results.pop():"."!==part&&""!==part&&results.push(part)}return results.join("/")},dirname=function(path){return path.split("/").slice(0,-1).join("/")},localRequire=function(path){return function(name){var absolute=expand(dirname(path),name);return globals.require(absolute,path)}},initModule=function(name,definition){var hot=hmr&&hmr.createHot(name),module={id:name,exports:{},hot:hot};cache[name]=module;definition(module.exports,localRequire(name),module);return module.exports},expandAlias=function(name){var val=aliases[name];return val&&name!==val?expandAlias(val):name},_resolve=function(name,dep){return expandAlias(expand(dirname(name),dep))},require=function(name,loaderPath){null==loaderPath&&(loaderPath="/");var path=expandAlias(name);if(has.call(cache,path))return cache[path].exports;if(has.call(modules,path))return initModule(path,modules[path]);throw new Error("Cannot find module '"+name+"' from '"+loaderPath+"'")};require.alias=function(from,to){aliases[to]=from};var extRe=/\.[^.\/]+$/,indexRe=/\/index(\.[^\/]+)?$/,addExtensions=function(bundle){if(extRe.test(bundle)){var alias=bundle.replace(extRe,"");has.call(aliases,alias)&&aliases[alias].replace(extRe,"")!==alias+"/index"||(aliases[alias]=bundle)}if(indexRe.test(bundle)){var iAlias=bundle.replace(indexRe,"");has.call(aliases,iAlias)||(aliases[iAlias]=bundle)}};require.register=require.define=function(bundle,fn){if(bundle&&"object"==typeof bundle)for(var key in bundle)has.call(bundle,key)&&require.register(key,bundle[key]);else{modules[bundle]=fn;delete cache[bundle];addExtensions(bundle)}};require.list=function(){var list=[];for(var item in modules)has.call(modules,item)&&list.push(item);return list};var hmr=globals._hmr&&new globals._hmr(_resolve,require,modules,cache);require._cache=cache;require.hmr=hmr&&hmr.wrap;require.brunch=!0;globals.require=require}}();require.register("common/GlobalHelper",function(exports){"use strict";var GlobalHelper;!function(GlobalHelper){function init(){_helperInstance={isLogsOn:function(){try{return window.localStorage?window.localStorage&&null!==window.localStorage.getItem("sdsat_debug")&&"true"===window.localStorage.getItem("sdsat_debug"):window.sessionStorage&&null!==window.sessionStorage.getItem("sdsat_debug")&&"true"===window.sessionStorage.getItem("sdsat_debug")}catch(err){return!1}},getLogger:function(logPrefix){try{return{logd:window.console.log.bind(window.console.log,"["+logPrefix+"] "),loge:window.console.log.bind(window.console.log,"["+logPrefix+"] ")}}catch(err){console.log(err)}}}}function isLogsOn(){return _helperInstance.isLogsOn()}function getLogger(loggerPrefix){return _helperInstance.getLogger(loggerPrefix)}var _helperInstance;GlobalHelper.init=init;GlobalHelper.isLogsOn=isLogsOn;GlobalHelper.getLogger=getLogger}(GlobalHelper=exports.GlobalHelper||(exports.GlobalHelper={}));GlobalHelper.init();Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=GlobalHelper});require.register("common/Logger",function(exports,require){"use strict";var Logger,GlobalHelper_1=require("./GlobalHelper");!function(Logger){function debug(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];loggerInstance.logd.apply(loggerInstance,args)}function error(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];loggerInstance.loge.apply(loggerInstance,args)}function shouldLog(){return isLogsOn}var loggerInstance=GlobalHelper_1.GlobalHelper.getLogger("TAG_MGR"),isLogsOn=GlobalHelper_1.GlobalHelper.isLogsOn();Logger.debug=debug;Logger.error=error;Logger.shouldLog=shouldLog}(Logger=exports.Logger||(exports.Logger={}));Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=Logger});require.register("common/Utils",function(exports,require){"use strict";var Utils,GoogleTagConfig_1=require("../config/Google/GoogleTagConfig");!function(Utils){function getCookie(name){var value="; "+document.cookie,parts=value.split("; "+name+"=");if(2==parts.length)return parts.pop().split(";").shift()}function deleteCookie(name){var date=new Date;date.setTime(date.getTime()+-864e5);document.cookie=name+"=; expires="+date.toUTCString()+"; path=/"}function setLocalStorageValue(name,value){try{if(!name||!value)return;window.localStorage.setItem(name,JSON.stringify(value))}catch(e){}}function getLocalStorageValue(name,parseJson,defaultValue){void 0===parseJson&&(parseJson=!1);void 0===defaultValue&&(defaultValue={});try{if(!name)return defaultValue;var lsValue=window.localStorage.getItem(name);if(lsValue)return parseJson?JSON.parse(lsValue):lsValue}catch(e){}return defaultValue}function isStaging(host){try{return window._satellite.settings.isStaging}catch(e){return!(config.prodHostname.indexOf(host)>-1)}}function doNotTrack(){return!1}function getVisitorId(){return window.s&&window.s.marketingCloudVisitorID||""}function LoadGTMScript(gtmID,scriptId,transportUrl){void 0===transportUrl&&(transportUrl="");window.dataLayer=window.dataLayer||[];gtag("js",new Date);gtag("config",gtmID,{transport_url:transportUrl,send_page_view:!1,language:getPageLanguage()});createDOMElement(config.gtmUrl+"?id="+gtmID,scriptId)}function createDOMElement(tagSrc,id){var tag=document.createElement("script");tag.setAttribute("src",tagSrc);tag.setAttribute("id",id);document.getElementsByTagName("head")[0].appendChild(tag)}function getPageLanguage(){return window.location.host.indexOf("es.")>-1||window.location.host.indexOf("hola.")>-1?"es":"en"}function getUserType(){return"Prospect"}var config=new GoogleTagConfig_1.GoogleTagConfig;Utils.getCookie=getCookie;Utils.deleteCookie=deleteCookie;Utils.setLocalStorageValue=setLocalStorageValue;Utils.getLocalStorageValue=getLocalStorageValue;Utils.isStaging=isStaging;Utils.doNotTrack=doNotTrack;Utils.getVisitorId=getVisitorId;Utils.LoadGTMScript=LoadGTMScript;Utils.createDOMElement=createDOMElement;Utils.getPageLanguage=getPageLanguage;Utils.getUserType=getUserType}(Utils=exports.Utils||(exports.Utils={}));Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=Utils});require.register("config/Google/GoogleTagConfig",function(exports){"use strict";var GoogleTagConfig=function(){function GoogleTagConfig(){this.killToggle="tm";this.transportUrl="https://sgtm.t-mobile.com";this.gtmUrl="https://googletagmanager.com/gtag/js";this.exclusionList=[];this.timeDelay=2e3;this.devProperty="G-TMSGBLSKJ4";this.prodProperty="G-FZ44X86N7Q";this.serverDevProperty="G-VKH047RCXH";this.serverProdProperty="G-SK38WR4SG9";this.eventArray=["prodView","cartAdd","cartRemove","checkout","purchase"];this.allowedDomain="t-mobile.com";this.prodHostname=["www.t-mobile.com","es.t-mobile.com","account.t-mobile.com","es.account.t-mobile.com"];this.varMap=[{varName:"digitalData.page.pageInfo.pageName",mappedTo:["pageName"]},{varName:"digitalData.page.language",mappedTo:["language"]},{varName:"sdto.account.segment",mappedTo:["visitorId"]}];this.majorVersion=1;this.minorVersion=0;this.subMinorVersion=0;this.brandKey="T-Mobile";this.pageLoadEvent="DOMContentLoaded1"}return GoogleTagConfig}();exports.GoogleTagConfig=GoogleTagConfig});require.register("google-tag-manager",function(exports,require){"use strict";var GoogleTagConfig_1=require("./config/Google/GoogleTagConfig"),tag_manager_impl_1=require("./tag-manager-impl"),SprintTagManager=function(){function SprintTagManager(){}SprintTagManager.prototype.run=function(){this.config=new GoogleTagConfig_1.GoogleTagConfig;this.tagManagerInstance=tag_manager_impl_1.TagManagerImpl.getInstance(this.config);this.tagManagerInstance.start()};return SprintTagManager}();exports.SprintTagManager=SprintTagManager;var inst=new SprintTagManager;inst.run()});require.register("google.libs.js",function(){function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[];window.gtag=gtag});require.register("tag-manager-impl",function(exports,require){"use strict";var Logger_1=require("./common/Logger"),Utils_1=require("./common/Utils"),GoogleTagConfig_1=require("./config/Google/GoogleTagConfig");require("./google.libs.js");var TagManagerImpl=function(){function TagManagerImpl(config){this._satellite=window._satellite;this.executionStartTime=performance.now();Logger_1["default"].debug("Starting Tag Manager");this.config=config;this.isStaging=Utils_1["default"].isStaging(location.hostname)}TagManagerImpl.prototype.start=function(){this.gtmProperty=this.isStaging?this.config.devProperty:this.config.prodProperty;this.gtmServerProperty=this.isStaging?this.config.serverDevProperty:this.config.serverProdProperty;Logger_1["default"].debug("Running Tag Manager for :: "+this.config.brandKey+", Property ID :: "+this.gtmProperty);if(this.triggerTM()){this.delayExecuteTagManager();window.addEventListener(this.config.pageLoadEvent,function(execute){Logger_1["default"].debug(this.config.pageLoadEvent);execute()}.bind(this,this.delayExecuteTagManager.bind(this)))}else Logger_1["default"].debug("Tag manager is disabled")};TagManagerImpl.prototype.triggerTM=function(){this.tmFlag=this.config.killToggle;this.dntFlag=Utils_1["default"].doNotTrack();Logger_1["default"].debug("Tag Manager Execution flag = "+this.tmFlag+" ; IsStaging = "+this.isStaging);return this.config.allowedDomain===location.hostname.replace(/^[^.]+\./g,"")};TagManagerImpl.getInstance=function(){return new TagManagerImpl(new GoogleTagConfig_1.GoogleTagConfig)};TagManagerImpl.prototype.delayExecuteTagManager=function(){var _this=this;Logger_1["default"].debug("Delaying Tag Manager by default of",this.config.timeDelay+" milliseconds");window.setTimeout(function(){_this.executeTagManager()},this.config.timeDelay)};TagManagerImpl.prototype.executeTagManager=function(){try{if(document.getElementById("gtm_client")){Logger_1["default"].debug("Skipping GTM as it already exists");return}Utils_1["default"].LoadGTMScript(this.gtmProperty,"gtm_client");this.pageLang=Utils_1["default"].getPageLanguage();this.isStaging=Utils_1["default"].isStaging(location.hostname);window.tagAnalytics={executionTime:0,language:this.pageLang,message:[],pageUrl:window.location.href,isStaging:this.isStaging};if(this.config.exclusionList.length>0||this.config.exclusionList.indexOf(this.pageName)>-1){this.pushMessage("Skipped page: "+(this.pageName?this.pageName:location.href));return}Logger_1["default"].debug("Starting Tag Processing");this.processGooglePageLoad(this.gtmProperty);if(document.getElementById("gtm_ss")){Logger_1["default"].debug("Skipping GTM as it already exists");return}Utils_1["default"].LoadGTMScript(this.gtmServerProperty,"gtm_ss",this.config.transportUrl);this.processGooglePageLoad(this.gtmServerProperty);this.executionEndTime=performance.now();Logger_1["default"].debug("Elapsed Time: ",window.tagAnalytics.executionTime=Math.round(this.executionEndTime-this.executionStartTime));Logger_1["default"].debug("Fired tags ",window.tagAnalytics);window.__helper&&window.__helper.triggerEvent("tagFireFinished",JSON.stringify(window.tagAnalytics))}catch(e){this.pushMessage("Error in executeTagManager: "+e)}Logger_1["default"].debug("Tag Manager finished")};TagManagerImpl.prototype.processGooglePageLoad=function(gtmProperty){try{gtag("event","page_view",{pageName:"",visitorID:Utils_1["default"].getVisitorId(),userType:Utils_1["default"].getUserType(),send_to:gtmProperty})}catch(e){this.pushMessage("Error in processGooglePageLoad:"+e)}};TagManagerImpl.prototype.processeCommerceEvents=function(){try{window.gtag("js",new Date)}catch(e){this.pushMessage("Error in processeCommerceEvents:"+e)}};TagManagerImpl.prototype.pushMessage=function(message,TID){try{Logger_1["default"].debug(message);TID||window.tagAnalytics.message.push(message);return message}catch(e){}};return TagManagerImpl}();exports.TagManagerImpl=TagManagerImpl});require("google-tag-manager");